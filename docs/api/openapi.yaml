openapi: 3.0.3
info:
  title: OpportuneX API
  description: |
    OpportuneX is an AI-powered platform that helps students from Tier 2 and Tier 3 cities in India discover and access hackathons, internships, and workshops through natural language interactions.
    
    ## Features
    - **Smart Search**: Natural language search for opportunities with advanced filtering
    - **Voice Search**: Multi-language voice commands (English and Hindi)
    - **AI Instructor**: Personalized preparation roadmaps and guidance
    - **Smart Notifications**: Personalized opportunity alerts via email, SMS, and in-app
    
    ## Authentication
    Most endpoints require authentication using JWT tokens. Include the token in the Authorization header:
    ```
    Authorization: Bearer <your-jwt-token>
    ```
    
    ## Rate Limiting
    - General API endpoints: 100 requests per 15 minutes
    - Search endpoints: 50 requests per 15 minutes
    - Authentication endpoints: 10 requests per 15 minutes
    
    ## Error Handling
    The API uses standard HTTP status codes and returns error details in JSON format:
    ```json
    {
      "error": {
        "code": "VALIDATION_ERROR",
        "message": "Invalid request parameters",
        "details": ["Field 'query' is required"]
      }
    }
    ```
  version: 1.0.0
  contact:
    name: OpportuneX API Support
    email: api-support@opportunex.com
    url: https://opportunex.com/support
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT
servers:
  - url: https://api.opportunex.com/v1
    description: Production server
  - url: https://staging-api.opportunex.com/v1
    description: Staging server
  - url: http://localhost:8080/v1
    description: Development server

paths:
  # Authentication Endpoints
  /auth/register:
    post:
      tags:
        - Authentication
      summary: Register a new user
      description: Create a new user account with email and password
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RegisterRequest'
            example:
              email: "student@example.com"
              password: "SecurePassword123!"
              name: "John Doe"
              location:
                city: "Indore"
                state: "Madhya Pradesh"
                tier: 2
              academic:
                institution: "IIT Indore"
                degree: "B.Tech Computer Science"
                year: 3
      responses:
        '201':
          description: User registered successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AuthResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '409':
          $ref: '#/components/responses/Conflict'
        '429':
          $ref: '#/components/responses/RateLimit'

  /auth/login:
    post:
      tags:
        - Authentication
      summary: User login
      description: Authenticate user with email and password
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LoginRequest'
            example:
              email: "student@example.com"
              password: "SecurePassword123!"
      responses:
        '200':
          description: Login successful
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AuthResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '429':
          $ref: '#/components/responses/RateLimit'

  /auth/refresh:
    post:
      tags:
        - Authentication
      summary: Refresh JWT token
      description: Get a new JWT token using refresh token
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                refreshToken:
                  type: string
                  description: Valid refresh token
              required:
                - refreshToken
      responses:
        '200':
          description: Token refreshed successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AuthResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'

  # Search Endpoints
  /search:
    post:
      tags:
        - Search
      summary: Search for opportunities
      description: |
        Search for hackathons, internships, and workshops using natural language queries.
        Supports advanced filtering by skills, location, organizer type, and more.
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SearchRequest'
            examples:
              basic_search:
                summary: Basic text search
                value:
                  query: "AI hackathons in Mumbai"
                  pagination:
                    page: 1
                    limit: 20
              filtered_search:
                summary: Search with filters
                value:
                  query: "machine learning internships"
                  filters:
                    skills: ["Python", "TensorFlow", "Machine Learning"]
                    organizerType: "corporate"
                    mode: "online"
                    location: "India"
                    type: "internship"
                  pagination:
                    page: 1
                    limit: 10
      responses:
        '200':
          description: Search results
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SearchResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '429':
          $ref: '#/components/responses/RateLimit'

  /search/suggestions:
    get:
      tags:
        - Search
      summary: Get search suggestions
      description: Get autocomplete suggestions for search queries
      security:
        - bearerAuth: []
      parameters:
        - name: q
          in: query
          required: true
          schema:
            type: string
            minLength: 2
          description: Partial search query
          example: "AI hack"
        - name: limit
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 10
            default: 5
          description: Maximum number of suggestions
      responses:
        '200':
          description: Search suggestions
          content:
            application/json:
              schema:
                type: object
                properties:
                  suggestions:
                    type: array
                    items:
                      type: string
                    example: ["AI hackathons", "AI internships", "AI workshops"]

  # Voice Search Endpoints
  /voice/process:
    post:
      tags:
        - Voice Search
      summary: Process voice input
      description: |
        Convert voice input to text and process as search query.
        Supports English and Hindi languages.
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                audio:
                  type: string
                  format: binary
                  description: Audio file (WAV, MP3, or M4A)
                language:
                  type: string
                  enum: ["en", "hi"]
                  default: "en"
                  description: Audio language
              required:
                - audio
      responses:
        '200':
          description: Voice processing successful
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/VoiceResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '413':
          description: Audio file too large
        '415':
          description: Unsupported audio format

  # User Profile Endpoints
  /user/profile:
    get:
      tags:
        - User Profile
      summary: Get user profile
      description: Retrieve the authenticated user's profile information
      security:
        - bearerAuth: []
      responses:
        '200':
          description: User profile
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserProfile'
        '401':
          $ref: '#/components/responses/Unauthorized'

    put:
      tags:
        - User Profile
      summary: Update user profile
      description: Update the authenticated user's profile information
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserProfileUpdate'
      responses:
        '200':
          description: Profile updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserProfile'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'

  /user/preferences:
    get:
      tags:
        - User Profile
      summary: Get user preferences
      description: Retrieve user notification and search preferences
      security:
        - bearerAuth: []
      responses:
        '200':
          description: User preferences
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserPreferences'

    put:
      tags:
        - User Profile
      summary: Update user preferences
      description: Update user notification and search preferences
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserPreferences'
      responses:
        '200':
          description: Preferences updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserPreferences'

  # AI Instructor Endpoints
  /ai/roadmap:
    post:
      tags:
        - AI Instructor
      summary: Generate preparation roadmap
      description: |
        Generate a personalized preparation roadmap for a specific opportunity
        based on user's current skills and the opportunity requirements.
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RoadmapRequest'
            example:
              opportunityId: "opp_123456"
              targetDate: "2024-03-15T00:00:00Z"
              focusAreas: ["technical_skills", "project_experience"]
      responses:
        '200':
          description: Roadmap generated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RoadmapResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          description: Opportunity not found

  /ai/roadmap/{roadmapId}:
    get:
      tags:
        - AI Instructor
      summary: Get roadmap details
      description: Retrieve details of a specific roadmap
      security:
        - bearerAuth: []
      parameters:
        - name: roadmapId
          in: path
          required: true
          schema:
            type: string
          description: Roadmap ID
      responses:
        '200':
          description: Roadmap details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RoadmapResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          description: Roadmap not found

    put:
      tags:
        - AI Instructor
      summary: Update roadmap progress
      description: Update progress on roadmap tasks and milestones
      security:
        - bearerAuth: []
      parameters:
        - name: roadmapId
          in: path
          required: true
          schema:
            type: string
          description: Roadmap ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                completedTasks:
                  type: array
                  items:
                    type: string
                  description: Array of completed task IDs
                progress:
                  type: number
                  minimum: 0
                  maximum: 100
                  description: Overall progress percentage
      responses:
        '200':
          description: Progress updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RoadmapResponse'

  # Opportunities Endpoints
  /opportunities:
    get:
      tags:
        - Opportunities
      summary: Get opportunities list
      description: Retrieve a paginated list of opportunities with optional filtering
      security:
        - bearerAuth: []
      parameters:
        - name: type
          in: query
          schema:
            type: string
            enum: ["hackathon", "internship", "workshop"]
          description: Filter by opportunity type
        - name: skills
          in: query
          schema:
            type: array
            items:
              type: string
          style: form
          explode: false
          description: Filter by required skills
        - name: location
          in: query
          schema:
            type: string
          description: Filter by location
        - name: page
          in: query
          schema:
            type: integer
            minimum: 1
            default: 1
          description: Page number
        - name: limit
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 50
            default: 20
          description: Number of items per page
      responses:
        '200':
          description: Opportunities list
          content:
            application/json:
              schema:
                type: object
                properties:
                  opportunities:
                    type: array
                    items:
                      $ref: '#/components/schemas/Opportunity'
                  pagination:
                    $ref: '#/components/schemas/Pagination'
                  totalCount:
                    type: integer

  /opportunities/{opportunityId}:
    get:
      tags:
        - Opportunities
      summary: Get opportunity details
      description: Retrieve detailed information about a specific opportunity
      security:
        - bearerAuth: []
      parameters:
        - name: opportunityId
          in: path
          required: true
          schema:
            type: string
          description: Opportunity ID
      responses:
        '200':
          description: Opportunity details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Opportunity'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          description: Opportunity not found

  # Notifications Endpoints
  /notifications:
    get:
      tags:
        - Notifications
      summary: Get user notifications
      description: Retrieve user's notifications with pagination
      security:
        - bearerAuth: []
      parameters:
        - name: status
          in: query
          schema:
            type: string
            enum: ["unread", "read", "all"]
            default: "all"
          description: Filter by notification status
        - name: type
          in: query
          schema:
            type: string
            enum: ["opportunity_match", "deadline_reminder", "roadmap_update"]
          description: Filter by notification type
        - name: page
          in: query
          schema:
            type: integer
            minimum: 1
            default: 1
        - name: limit
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 50
            default: 20
      responses:
        '200':
          description: Notifications list
          content:
            application/json:
              schema:
                type: object
                properties:
                  notifications:
                    type: array
                    items:
                      $ref: '#/components/schemas/Notification'
                  pagination:
                    $ref: '#/components/schemas/Pagination'

  /notifications/{notificationId}/read:
    put:
      tags:
        - Notifications
      summary: Mark notification as read
      description: Mark a specific notification as read
      security:
        - bearerAuth: []
      parameters:
        - name: notificationId
          in: path
          required: true
          schema:
            type: string
          description: Notification ID
      responses:
        '200':
          description: Notification marked as read
        '404':
          description: Notification not found

  # Health Check Endpoints
  /health:
    get:
      tags:
        - System
      summary: Health check
      description: Check API health status
      responses:
        '200':
          description: API is healthy
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: "healthy"
                  timestamp:
                    type: string
                    format: date-time
                  version:
                    type: string
                    example: "1.0.0"
                  services:
                    type: object
                    properties:
                      database:
                        type: string
                        example: "connected"
                      redis:
                        type: string
                        example: "connected"
                      elasticsearch:
                        type: string
                        example: "connected"

components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT

  schemas:
    # Authentication Schemas
    RegisterRequest:
      type: object
      required:
        - email
        - password
        - name
        - location
        - academic
      properties:
        email:
          type: string
          format: email
          description: User's email address
        password:
          type: string
          minLength: 8
          description: User's password (minimum 8 characters)
        name:
          type: string
          minLength: 2
          description: User's full name
        phone:
          type: string
          pattern: '^\+?[1-9]\d{1,14}$'
          description: User's phone number (optional)
        location:
          $ref: '#/components/schemas/Location'
        academic:
          $ref: '#/components/schemas/Academic'

    LoginRequest:
      type: object
      required:
        - email
        - password
      properties:
        email:
          type: string
          format: email
        password:
          type: string

    AuthResponse:
      type: object
      properties:
        user:
          $ref: '#/components/schemas/UserProfile'
        tokens:
          type: object
          properties:
            accessToken:
              type: string
              description: JWT access token
            refreshToken:
              type: string
              description: Refresh token
            expiresIn:
              type: integer
              description: Token expiration time in seconds

    # Search Schemas
    SearchRequest:
      type: object
      required:
        - query
      properties:
        query:
          type: string
          minLength: 1
          description: Natural language search query
        filters:
          $ref: '#/components/schemas/SearchFilters'
        pagination:
          $ref: '#/components/schemas/Pagination'
        userId:
          type: string
          description: User ID for personalized results (optional)

    SearchFilters:
      type: object
      properties:
        skills:
          type: array
          items:
            type: string
          description: Required technical skills
        organizerType:
          type: string
          enum: ["corporate", "startup", "government", "academic"]
          description: Type of organizing entity
        mode:
          type: string
          enum: ["online", "offline", "hybrid"]
          description: Event mode
        location:
          type: string
          description: Geographic location
        type:
          type: string
          enum: ["hackathon", "internship", "workshop"]
          description: Opportunity type

    SearchResponse:
      type: object
      properties:
        opportunities:
          type: array
          items:
            $ref: '#/components/schemas/Opportunity'
        totalCount:
          type: integer
          description: Total number of matching opportunities
        suggestions:
          type: array
          items:
            type: string
          description: Search query suggestions
        facets:
          $ref: '#/components/schemas/SearchFacets'
        pagination:
          $ref: '#/components/schemas/Pagination'

    SearchFacets:
      type: object
      properties:
        skills:
          type: array
          items:
            type: object
            properties:
              name:
                type: string
              count:
                type: integer
        organizerTypes:
          type: array
          items:
            type: object
            properties:
              type:
                type: string
              count:
                type: integer
        locations:
          type: array
          items:
            type: object
            properties:
              location:
                type: string
              count:
                type: integer

    # Voice Search Schemas
    VoiceResponse:
      type: object
      properties:
        transcription:
          type: string
          description: Transcribed text from audio
        searchQuery:
          type: string
          description: Processed search query
        confidence:
          type: number
          minimum: 0
          maximum: 1
          description: Transcription confidence score
        language:
          type: string
          enum: ["en", "hi"]
          description: Detected language
        followUpQuestions:
          type: array
          items:
            type: string
          description: Suggested follow-up questions

    # User Profile Schemas
    UserProfile:
      type: object
      properties:
        id:
          type: string
          description: User ID
        email:
          type: string
          format: email
        name:
          type: string
        phone:
          type: string
        location:
          $ref: '#/components/schemas/Location'
        academic:
          $ref: '#/components/schemas/Academic'
        skills:
          $ref: '#/components/schemas/Skills'
        preferences:
          $ref: '#/components/schemas/UserPreferences'
        searchHistory:
          type: array
          items:
            $ref: '#/components/schemas/SearchQuery'
        favoriteOpportunities:
          type: array
          items:
            type: string
          description: Array of favorite opportunity IDs
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time

    UserProfileUpdate:
      type: object
      properties:
        name:
          type: string
        phone:
          type: string
        location:
          $ref: '#/components/schemas/Location'
        academic:
          $ref: '#/components/schemas/Academic'
        skills:
          $ref: '#/components/schemas/Skills'

    Location:
      type: object
      required:
        - city
        - state
        - tier
      properties:
        city:
          type: string
          description: City name
        state:
          type: string
          description: State name
        tier:
          type: integer
          enum: [2, 3]
          description: City tier (2 or 3)

    Academic:
      type: object
      required:
        - institution
        - degree
        - year
      properties:
        institution:
          type: string
          description: Educational institution name
        degree:
          type: string
          description: Degree program
        year:
          type: integer
          minimum: 1
          maximum: 6
          description: Current year of study
        cgpa:
          type: number
          minimum: 0
          maximum: 10
          description: Current CGPA (optional)

    Skills:
      type: object
      properties:
        technical:
          type: array
          items:
            type: string
          description: Technical skills
        domains:
          type: array
          items:
            type: string
          description: Domain expertise areas
        proficiencyLevel:
          type: string
          enum: ["beginner", "intermediate", "advanced"]
          description: Overall proficiency level

    UserPreferences:
      type: object
      properties:
        opportunityTypes:
          type: array
          items:
            type: string
            enum: ["hackathon", "internship", "workshop"]
          description: Preferred opportunity types
        preferredMode:
          type: string
          enum: ["online", "offline", "hybrid", "any"]
          description: Preferred event mode
        maxDistance:
          type: integer
          minimum: 0
          description: Maximum distance for offline events (km)
        notifications:
          $ref: '#/components/schemas/NotificationPreferences'

    NotificationPreferences:
      type: object
      properties:
        email:
          type: boolean
          description: Enable email notifications
        sms:
          type: boolean
          description: Enable SMS notifications
        push:
          type: boolean
          description: Enable push notifications
        frequency:
          type: string
          enum: ["immediate", "daily", "weekly"]
          description: Notification frequency
        types:
          type: array
          items:
            type: string
            enum: ["opportunity_match", "deadline_reminder", "roadmap_update"]
          description: Types of notifications to receive

    # AI Instructor Schemas
    RoadmapRequest:
      type: object
      required:
        - opportunityId
      properties:
        opportunityId:
          type: string
          description: ID of the target opportunity
        targetDate:
          type: string
          format: date-time
          description: Target completion date (optional)
        focusAreas:
          type: array
          items:
            type: string
            enum: ["technical_skills", "project_experience", "interview_prep", "domain_knowledge"]
          description: Areas to focus on in the roadmap

    RoadmapResponse:
      type: object
      properties:
        id:
          type: string
          description: Roadmap ID
        opportunityId:
          type: string
          description: Associated opportunity ID
        phases:
          type: array
          items:
            $ref: '#/components/schemas/RoadmapPhase'
        estimatedDuration:
          type: integer
          description: Estimated completion time in days
        personalizedTips:
          type: array
          items:
            type: string
          description: Personalized tips and recommendations
        progress:
          type: number
          minimum: 0
          maximum: 100
          description: Current progress percentage
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time

    RoadmapPhase:
      type: object
      properties:
        id:
          type: string
        title:
          type: string
        description:
          type: string
        duration:
          type: integer
          description: Phase duration in days
        tasks:
          type: array
          items:
            $ref: '#/components/schemas/Task'
        resources:
          type: array
          items:
            $ref: '#/components/schemas/Resource'
        prerequisites:
          type: array
          items:
            type: string
          description: Prerequisites for this phase

    Task:
      type: object
      properties:
        id:
          type: string
        title:
          type: string
        description:
          type: string
        estimatedHours:
          type: integer
          description: Estimated time to complete in hours
        priority:
          type: string
          enum: ["high", "medium", "low"]
        type:
          type: string
          enum: ["learning", "practice", "project", "assessment"]
        completed:
          type: boolean
          description: Whether the task is completed

    Resource:
      type: object
      properties:
        id:
          type: string
        title:
          type: string
        type:
          type: string
          enum: ["article", "video", "course", "book", "practice"]
        url:
          type: string
          format: uri
        duration:
          type: integer
          description: Resource duration in minutes (optional)
        difficulty:
          type: string
          enum: ["beginner", "intermediate", "advanced"]
        free:
          type: boolean
          description: Whether the resource is free

    # Opportunity Schemas
    Opportunity:
      type: object
      properties:
        id:
          type: string
        title:
          type: string
        description:
          type: string
        type:
          type: string
          enum: ["hackathon", "internship", "workshop"]
        organizer:
          $ref: '#/components/schemas/Organizer'
        requirements:
          $ref: '#/components/schemas/Requirements'
        details:
          $ref: '#/components/schemas/OpportunityDetails'
        timeline:
          $ref: '#/components/schemas/Timeline'
        externalUrl:
          type: string
          format: uri
          description: Link to original opportunity posting
        sourceId:
          type: string
          description: ID of the data source
        tags:
          type: array
          items:
            type: string
          description: Opportunity tags
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
        isActive:
          type: boolean
          description: Whether the opportunity is currently active

    Organizer:
      type: object
      properties:
        name:
          type: string
        type:
          type: string
          enum: ["corporate", "startup", "government", "academic"]
        logo:
          type: string
          format: uri
          description: URL to organizer logo

    Requirements:
      type: object
      properties:
        skills:
          type: array
          items:
            type: string
          description: Required technical skills
        experience:
          type: string
          description: Required experience level
        education:
          type: string
          description: Educational requirements
        eligibility:
          type: array
          items:
            type: string
          description: Eligibility criteria

    OpportunityDetails:
      type: object
      properties:
        mode:
          type: string
          enum: ["online", "offline", "hybrid"]
        location:
          type: string
          description: Event location (for offline/hybrid events)
        duration:
          type: string
          description: Event duration
        stipend:
          type: string
          description: Stipend or compensation details
        prizes:
          type: array
          items:
            type: string
          description: Prize information

    Timeline:
      type: object
      properties:
        applicationDeadline:
          type: string
          format: date-time
        startDate:
          type: string
          format: date-time
        endDate:
          type: string
          format: date-time

    # Notification Schemas
    Notification:
      type: object
      properties:
        id:
          type: string
        type:
          type: string
          enum: ["opportunity_match", "deadline_reminder", "roadmap_update"]
        title:
          type: string
        message:
          type: string
        data:
          type: object
          description: Additional notification data
        read:
          type: boolean
        createdAt:
          type: string
          format: date-time

    # Common Schemas
    Pagination:
      type: object
      properties:
        page:
          type: integer
          minimum: 1
          default: 1
        limit:
          type: integer
          minimum: 1
          maximum: 50
          default: 20
        totalPages:
          type: integer
        totalCount:
          type: integer

    SearchQuery:
      type: object
      properties:
        query:
          type: string
        filters:
          $ref: '#/components/schemas/SearchFilters'
        timestamp:
          type: string
          format: date-time

    Error:
      type: object
      properties:
        code:
          type: string
          description: Error code
        message:
          type: string
          description: Human-readable error message
        details:
          type: array
          items:
            type: string
          description: Additional error details

  responses:
    BadRequest:
      description: Bad request - invalid parameters
      content:
        application/json:
          schema:
            type: object
            properties:
              error:
                $ref: '#/components/schemas/Error'
          example:
            error:
              code: "VALIDATION_ERROR"
              message: "Invalid request parameters"
              details: ["Field 'query' is required"]

    Unauthorized:
      description: Unauthorized - invalid or missing authentication
      content:
        application/json:
          schema:
            type: object
            properties:
              error:
                $ref: '#/components/schemas/Error'
          example:
            error:
              code: "UNAUTHORIZED"
              message: "Invalid or expired token"

    Forbidden:
      description: Forbidden - insufficient permissions
      content:
        application/json:
          schema:
            type: object
            properties:
              error:
                $ref: '#/components/schemas/Error'

    NotFound:
      description: Resource not found
      content:
        application/json:
          schema:
            type: object
            properties:
              error:
                $ref: '#/components/schemas/Error'

    Conflict:
      description: Conflict - resource already exists
      content:
        application/json:
          schema:
            type: object
            properties:
              error:
                $ref: '#/components/schemas/Error'
          example:
            error:
              code: "USER_EXISTS"
              message: "User with this email already exists"

    RateLimit:
      description: Rate limit exceeded
      content:
        application/json:
          schema:
            type: object
            properties:
              error:
                $ref: '#/components/schemas/Error'
          example:
            error:
              code: "RATE_LIMIT_EXCEEDED"
              message: "Too many requests. Please try again later."

    InternalServerError:
      description: Internal server error
      content:
        application/json:
          schema:
            type: object
            properties:
              error:
                $ref: '#/components/schemas/Error'

tags:
  - name: Authentication
    description: User authentication and authorization
  - name: Search
    description: Opportunity search and discovery
  - name: Voice Search
    description: Voice-based search functionality
  - name: User Profile
    description: User profile and preferences management
  - name: AI Instructor
    description: AI-powered preparation roadmaps
  - name: Opportunities
    description: Opportunity management and details
  - name: Notifications
    description: User notifications and alerts
  - name: System
    description: System health and monitoring